<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="ASSIGN_EMP" >
	<resultMap id="BaseResultMap" type="AssignEmp" >
	  <!--
	    WARNING - @mbggenerated
	    This element is automatically generated by MyBatis Generator, do not modify.
	    This element was generated on Tue Jun 30 09:00:29 CST 2015.
	  -->
	   <id column="ASS_ID" property="assId" jdbcType="DECIMAL" />
	   <result column="ASS_NAME" property="assName" jdbcType="VARCHAR" />
	   <result column="EDUCATION" property="education" jdbcType="VARCHAR" />
	   <result column="WORK_EXP" property="workExp" jdbcType="VARCHAR" />
	   <result column="SKILL" property="skill" jdbcType="VARCHAR" />
	   <result column="RESIDENT_CITY" property="residentCity" jdbcType="VARCHAR" />
	   <result column="SALARY" property="salary" jdbcType="DECIMAL" />
	   <result column="AVAILABLE" property="available" jdbcType="VARCHAR" />
	   <result column="RESUME" property="resume" jdbcType="BLOB" />
	 </resultMap>
	
	 <delete id="delete" parameterType="java.lang.Integer" >
	   delete from ASSIGN_EMP
	   where ASS_ID = #{assId,jdbcType=DECIMAL}
	 </delete>
	 
	 <insert id="insert" parameterType="AssignEmp" >
	   insert into ASSIGN_EMP (ASS_ID, ASS_NAME, EDUCATION, 
	     WORK_EXP, SKILL, RESIDENT_CITY, 
	     SALARY, RESUME, AVAILABLE)
	   values (
	   assemp_seq.nextval, 
	   #{assName,jdbcType=VARCHAR},
	   #{education,jdbcType=VARCHAR}, 
	   #{workExp,jdbcType=VARCHAR}, 
	   #{skill,jdbcType=VARCHAR}, 
	   #{residentCity,jdbcType=VARCHAR}, 
	   #{salary,jdbcType=DECIMAL}, 
	   #{resume,jdbcType=BLOB},
	   #{available,jdbcType=VARCHAR})
	 </insert>
	
	 <update id="update" parameterType="AssignEmp" >
	   update ASSIGN_EMP
	  	set ASS_NAME = #{assName,jdbcType=VARCHAR},
	     EDUCATION = #{education,jdbcType=VARCHAR},
	     WORK_EXP = #{workExp,jdbcType=VARCHAR},
	     SKILL = #{skill,jdbcType=VARCHAR},
	     RESIDENT_CITY = #{residentCity,jdbcType=VARCHAR},
	     SALARY = #{salary,jdbcType=DECIMAL},
	     <if test="resume != null and resume != ''">
		 RESUME = #{resume,jdbcType=BLOB},
		</if>
	     AVAILABLE = #{available,jdbcType=VARCHAR}
	     where ASS_ID = #{assId,jdbcType=DECIMAL}
	 </update>
	 
	 <update id="updateByEmpCom" parameterType="AssignEmp">        
     update ASSIGN_EMP
  		set
     	AVAILABLE = #{available,jdbcType=VARCHAR}
     	where 
     	ASS_ID = #{assId,jdbcType=DECIMAL}
	 </update>
	 
	 <select id="queryById" parameterType="java.lang.Integer" resultMap="BaseResultMap">
	select * from assign_emp where ass_id=#{assId,jdbcType=DECIMAL}
	 </select>
	 
	<!-- 获得当前的序列主键值 -->
	<select id="getPrimaryKey" resultType="java.lang.Integer">
		select assemp_seq.currval from dual
	</select>
	
	<select id="query" resultMap="BaseResultMap">
		select * from assign_emp
	</select>
	
	<select id="getCount" resultType="java.lang.Integer">
		select count(*) from assign_emp
	</select>
	
	<!-- 分页查询并升序排列 -->
	<select id="queryByPager" parameterType="java.util.Map"
		resultMap="BaseResultMap">   
		select * from (select rownum rnum,s.* from (select * from assign_emp order by ASS_ID asc) s)
		where
		rnum between #{start} and #{end}
	</select>
	
	  
</mapper>